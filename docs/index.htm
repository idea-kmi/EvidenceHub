<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<title>Evidence Hub Documentation</title>
<style>
<!--
body {
	font-family:"Arial";
	font-size:12.0pt;
	font-family:"Arial";
}
li {
	margin-bottom: 15px;
}
p {
	margin:0cm;
	margin-bottom:10px;
}
-->
</style>
</head>

<body lang=EN-US link=blue vlink=blue style='tab-interval:36.0pt;margin:30px;'>
<a name="top"></a>

<center><h1>Evidence Hub Documentation</h1></center>

<h2><a name="contents">Contents</a></h2>
<ul>
<li><a href="#intro">Intro</a></li>
<li><a href="#requirements">System Requirements</a></li>
<li><a href="#folders">A Quick What's Where</a></li>
<li><a href="#setup">Setting up an Evidence Hub</a></li>
<li><a href="#config">Config Settings</a></li>
<li><a href="#language">Language</a></li>
<li><a href="#tailor">Tailoring your Evidence Hub</a></li>
<li><a href="#dev">Additional Developer Notes</a></li>
<li><a href="#community">Community</a></li>
</ul>

<h2><a name="intro">Intro</a></h2>
<p>This is a really quick overview of the site structure with some
instructions further down on setting up the database and config file.</p>

<p><b>NOTE:</b> The Evidence Hub code base is released under the LGPL license: <a href="http://www.fsf.org/licensing/licenses/lgpl.html">http://www.fsf.org/licensing/licenses/lgpl.html</a>.<br>
It includes third party code which should all have licenses which are compatible with LGPL (see <b>/core/lib</b> and <b>/ui/lib</b> folders to view third party libraries used)</p>

<h2><a name="requirements">System Requirements</a></h2>
The Evidence Hub code has been developed and tested on a Red Hat Enterprise Linux Server release 6.7 (Santiago) using:
<br>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Apache 2.2.15.</h3>
Please add the following in your Apache config:<br><br>
	<code>Options All -Indexes -MultiViews
    <br>RewriteEngine on
    <br>AllowOverride FileInfo AuthConfig</code>

<br><br>If you have .htaccess files disabled (AllowOverride none), it will not affect the running of the site.
<br>Our .htaccess file has the following:
<br><br>
<pre>
&lt;IfModule mod_deflate.c&gt;
AddOutputFilterByType DEFLATE text/plain
AddOutputFilterByType DEFLATE text/html
AddOutputFilterByType DEFLATE text/xml
AddOutputFilterByType DEFLATE text/css
AddOutputFilterByType DEFLATE text/javascript
AddOutputFilterByType DEFLATE text/x-js
AddOutputFilterByType DEFLATE application/xml
AddOutputFilterByType DEFLATE application/xhtml+xml
AddOutputFilterByType DEFLATE application/rss+xml
AddOutputFilterByType DEFLATE application/javascript
AddOutputFilterByType DEFLATE application/x-javascript
AddOutputFilterByType DEFLATE application/json
AddOutputFilterByType DEFLATE application/ld+json
AddOutputFilterByType DEFLATE image/svg+xml
AddOutputFilterByType DEFLATE font/truetype
AddOutputFilterByType DEFLATE font/opentype
AddOutputFilterByType DEFLATE application/vnd.ms-fontobject
&lt;/IfModule&gt;

#RewriteEngine on
#RewriteCond %{REQUEST_URI} !/index-maintenance.php$
#RewriteRule $ /index-maintenance.php [R=302,L]

ErrorDocument 404 /404-error-page.php
ErrorDocument 403 /403-error-page.php
</pre>

<br>
<br>So we use it to compress files to speed up the website and for having site specific 404 and 403 pages.
<br>We also uncomment the first three lines if we want to put the hub into maintenace mode
and display a holding page to the user (index-maintenace.php)

<br><br>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">PHP version 5.3.3</h3>
Modules installed:
<br>
<code>
bcmath,bz2,calendar,Core,ctype,curl,date,dba,dom,enchant,ereg,exif,fileinfo,filter,ftp,
gd,gettext,gmp,hash,iconv,imap,intl,json,ldap,libxml,mbstring,mcrypt,memcache,mysql,mysqli,
odbc,openssl,pcntl,pcre,PDO,pdo_mysql,PDO_ODBC,pdo_pgsql,pdo_sqlite,pgsql,Phar,phpcups,posix,
pspell,readline,recode,Reflection,rrdtool,session,shmop,SimpleXML,snmp,soap,sockets,SPL,sqlite3,standard,
sysvmsg,sysvsem,sysvshm,tidy,tokenizer,uuid,wddx,xml,xmlreader,xmlrpc,xmlwriter,xsl,zip,zlib
</code>

<br><br>The Evidence Hub is not necessarily dependent on all these modules. These are just the modules installed on the server The Evidence Hub was developed on.
I am unsure at this stage if any of them are non standard, or if the Evidence Hub code in anyway replies on them. So, just in case, I am listing them.

<br>
<br/>NOTE: In your php.ini make sure set allow-url-fopen = on.

<br>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">MySQL</h3>
The Evidence Hub uses MySQL as the database at present.So you will need to install MySQL on your server.
We have developed and tested on MySQL 5.1.73.
The database layer of the code has been abstracted out somewhat to make it eaiser for a developer to
extend the Debate Hub code base to use a different database.

<br>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Email</h3>
The Evidence Hub uses emails to tell users their registration is successful etc. and send out email digests of items or people they are following.
So your server should be able to do emailing if you want these to be sent.
You can switch off emailing with a setting in the config file if required (see <a href="#config">Config Settings</a>, below),
but then all user accounts would need to be setup and validated by hand.

<br>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Crons</h3>
To send out the digest emails you will need to setup three cron jobs. An example is shown below.
To use the lines below you need to add the file system path to your Evidence Hub code where indicated:
<br>

<br><br>0 1 * * 4 php <code>path to code</code>/core/cron/cron-follow-weekly.php <code>domain name</code>
<br><br>0 1 25 * * php <code>path to code</code>/core/cron/cron-follow-monthly.php <code>domain name</code>
<br><br>0 2 * * * php <code>path to code</code>/core/cron/cron-follow-daily.php <code>domain name</code>
<br><br>0 * * * *  php <code>path to code</code>/core/cron/cron-follow-hourly.php <code>domain name</code>
<br><br>0 0 15 * * php <code>path to code</code>/core/cron/cron-recent-activity.php <code>domain name</code>

<p>

<br>
<h2><a name="folders">A Quick What's Where</a></h2>
<p>The top level of the file structure has the config.php file, (see <a href="#config">Config Settings</a>, below) and the setup.php file.</p>

<p>This level also has the files for the other main context pages of the site:
index (for the global context) explore (for the item context), user, search and the fav icon etc..</p>

<p><b>The Folders:</b></p>

<ul style="list-style:none;">

<li><b>admin  </b> - This folder has various files that run the activity digest email cron jobs, hold the administer themes page, the register new user form, the user statistics page etc..
If you are a user who has the 'IsAdministrator' field in the Users table set to 'Y', you will see an
extra menu item when logged in at the top of the screen called 'admin'.
This page currently only has the 'Register New User' link.
In future releases it will have more.<br><br>
If you are logged in as the Site admin user (see $CFG-&gt;ADMIN_USERID in the <a href="#config">Config Settings</a> section below), you will see a 'Manage Themes' option to allow you to add, edit and delete system Themes.
This should really only be done before a hub is up an running. Be very careful deleting or editing Themes once people have started using them. Think about the consequesnces carefully.</li>

<li><b>api </b> - This folder holds the Evidence Hub services file that processes incoming service request,
(see core/apilib.php for the actual guts).</li>

<li><b>core </b> - This is where the server side code resides.
	<ul>
	<li><b>database </b> - This holds the database manager and the sql statements. There is a README.txt file in there with more details.</li>
	<li><b>datamodel </b> - This holds that classes that hold that database record information when it is loaded. There are classes for all the mail items types, like user, node, linktype etc...</li>
	<li><b>formats </b> - This holds the files that process the api return data into the correct format, e.g. json, xml etc..</li>
	<li><b>lib </b> - This holds all the external libraries that the evidence Hub is using in the server side code.</li>
	</ul>
</li>
<li><b>docs </b> - This is where there are some additinal developer docs.
<br><b>Once you have finished the install process you may want to remove this folder from your website.</b>
</li>
<li><b>help </b> - This is where the help pages are. But the actual text can be found io the language folder.</li>
<li><b>images </b> - This is where all the graphics for the site are.</li>
<li><b>install</b> - This folder has setup notes, the sql file needed to create a Evidence Hub database and the script to install the default data. See <a href="#setup">Setting up an Evidence Hub</a> below.
<br><b>Once you have finished the install process remove this folder from your website.</b>
</li>
<li><b>io </b> - This folder holds the code to handle the import options in the Evidence Hub: currently just from <a href="http://compendium.open.ac.uk/institute">Compendium</a>.</li>
<li><b>language </b> - This folder holds the language files for all the interface text. By changing the $CFG->language property (see below) you can override the default language of 'en' and add a different folder and then convert all the language files to another language if you want to. For more details on how this works see <a href='#lang'>Language</a> below.
	<ul>
	<li><b>en </b> - This holds the default English language version of all interface text shown to the user. Please never remove this folder.
		<ul>
		<li><b>custom </b> - This folder will intially be empty, and is where you will place any site specific text overrides, (see <a href='#sitetext'>Site specific text</a> below).</li>
		</ul>
	</li>
	</ul>
</li>

<li><b>sites</b> - There is a README.txt file with more details
	<ul>
	<li><b>default</b> - This is where you setup a sinlge instance or the base instance of the site. There is a README.txt file there with more details.</li>
	<li><b>multi</b> - This is where you setup multiple instance of the site for different domains, but sharing the codebase. There is a README.txt file there with more details.</li>
	</ul>
</li>

<li><b>themes</b> - This is where you can setup alternative themes. We supply the Default theme.
It has a sub-folder for images and one for the stylesheets.
Please see the README.txt file that is in the themes folder for more details about setitng up themes.</li>

<li><b>ui</b> - This folder has most of the client side code e.g. header, footer, sidebar etc.
	<ul>
	<li><b>explore </b> - This holds that classes that create the debate and widget explore pages.</li>
	<li><b>geomaps </b> - This holds the files that produce the geographic map pages</li>
	<li><b>lib </b> - This holds all the external libraries that the evidence Hub is using in the client side code.
		<ul>

			<li><b>ckeditor</b> - This folder holds the library that handles the html wysiwig editor displayed in forms.</li>
			<li><b>scriptaculous</b> - This folder holds the library that handles the string matching for idea creation and search entries and then draws the
				drop-down box to select from as the user types.</li>
		</ul>
	</li>
	<li><b>networkmaps </b> - This holds the files that create all the network applet pages. It also has the subfolder holding the java applet jar files.</li>
	<li><b>pages </b> - This holds the secondary page files, like login and logout, register, conditionsofuse etc..</li>
	<li><b>popups </b> - This holds the files that are shown in popup windows, like the add and edit forms, the story forms, the print pages etc..</li>
	<li><b>styles </b> - This holds the css files.</li>
	</ul>
</ul>

<br>
<h2><a name="setup">Setting up an Evidence Hub website</a></h2>

<ol>

<li><b>Creating the Database:</b>
	<ol style="list-style-type: lower-alpha;">
		<li>Create an empty database for the Evidence Hub to use in your MySQL installation,
		making sure that the database character set and collation are UTF-8, e.g.<br>
		<code>CREATE DATABASE dbname CHARACTER SET utf8 COLLATE utf8_general_ci;</code><br><br>
		If you do not want to use utf8, you will need to edit the db.sql file before you run it in c. below, as the table creation statements are using utf8.</li>
		<li>Create a MySQL user for the Evidence Hub to use.</li>
		<li>Load the database schema from /install/db.sql into your new Evidence Hub Database to create all the required tables.</li>
	</ol>
</li>
<li><b>Adding the Default Data:</b>
	<ol style="list-style-type: lower-alpha;">

		<li></b>Edit /install/adddefaultdata.php. You must fill in the following data in the file:
			<ul>
				<li>$dirAddressUploads = the file path to the uploads folder, which must end in '/', (further notes in adddefaultdata.php)</li>
				<li>$databaseaddress = the address of your mysql database - usually localhost;</li>
				<li>$databaseuser = the username of your mysql user for the Evidence Hub, as created in step 1b above;</li>
				<li>$databasepass = the password of your mysql user for the Evidence Hub, as created in step 1b above;</li>
				<li>$databasename = the name of your mysql database for the Evidence Hub, as created in step 1a above;</li>
				<li>$email = fill in a default user email address for the Evidence Hub - this can be made up. This user account owns the default node and links types and acts as a template for all subsequent user accounts;</li>
				<li>$password = fill in an default user password for the Evidence Hub;</li>
				<li>$email2 = fill in a theme admin user email address for the Evidence Hub - this can be made up. This user account manages the Evidence Hub Themes list and is called the System Admin user.</li>
				<li>$password2 = fill in an theme admin user password for the Evidence Hub;</li>
			</ul>
		</li>
		<li>Edit /install/adddefaultdata.php some more.
		You must decide now if you want to change the Evidence Node types supplied in this file.<br>
		If you do, edit the appropriate section of this file which has the heading 'Evidence Types'.<br>
		We supply four Evidence Types by default - Anecdote, Case Study, Policy, Research Finding and Report.<br>
		You can edit any of these or add more.<br><br>
		To add another Evidence node type you will need to decide/create an icon and place it in 'images/nodetypes/Default' add the follow lines of code:
		<br><br>
		You will find example lines of code in the adddefaultdata file with instructions.
		<br><br>
		If you add more please make sure you also add a new line for each new Evidence Type in the 'Evidence Types into the Evidence Group' section of this file.
		<br><br>NOTE: If you ever need to add a new Evidence Type after this file has been run, make sure you add it to that database against the default user account and then any other Users accounts that exist at that time. And also add it to the Evidence NodeTypeGrouping table for the Evidence Group
		</li>
		<li>Now run the adddefaultdata.php file on your server. You can do this in two ways:
			<ol>
				<li>Run it from the command line. Note that the file will output data that you will need, specifically two UserIDs (as well as possible error messages). You can get the user ids you will need from the database Users table if required.</li>
				<li>Surf to the file through your browser. In this case the two user id's will be displayed on screen as will any error messages.</li>
			</ol>
		When it completes (hopefully without error) make a note of the ids it displays. You will need these in a moment to put in the Config file.</li>
	</ol>
</li>

<li>Copy /config-sample.php to /config.php</li>

<li>Copy /config-sample.php to /config.php.
You will need to edit the config.php file here to just add two things:
<ol>
<li>$CFG->basedomain - this is the domain that is the default one for the installation. If you are running this as a single site this will be your actual domain.
For multi-sites you still need a base domain entered here. The details config.php file for this base domain can be found in 'sites/default/'.</li>
<li>$CFG->dirAddress - this is the file path on your server to the website code, ending in a '/'</li>
</ol>
</li>

<li>Copy sites/default/config-sample.php to sites/default/config.php.
<br>Edit settings in sites/default/config.php to point to your set up and database and to configure other important aspects of Debate Hub.
<br/>For the setting $CFG-&gt;ADMIN_USERID, $CFG-&gt;defaultUserID and $CFG-&gt;defaultRoleGroupID you need to copy in the ids given from step 2c. above
<br/>All config file settings are explained below in <a href="config">Config Settings</a>.
<br/>The ones in <span style="color:red">red</span> represent the minimum settings that you must look at and edit as required.
</li>

<li>At this point you should be able to surf to the website and check it comes up OK.
It will, of course, have the default supplied look and feel
(using any header icon you have specififed in the config),
but you can at least test that all is working thus far.</li>

<li>If all is well, remove the <b>install</b> folder from your website.</li>


<li><b>Setting up the Themes:</b><br>To complete the default data your Evidence Hub will need, you now need to add the Themes specific to your domain.
	<ol style="list-style-type: lower-alpha;">
	<li>Login as the System Admin user (using the details you used in 2a above).</li>
	<li>You should now see an 'Admin' link at the top-right of the website. Click on this link.</li>
	<li>On the admin page click on the 'Manage Themes' link.</li>
	<li>This opens a new window with the Theme Manager in. You can now add the Themes you want to use for your Evidence Hub</li>
	</ol>

	While you can always add themes later on, think carefully about editing and deleting them, once they are in use.
</li>

</ol>

<br>
<h2><a name="config">Config Settings</a></h2>

All setting have comments explaining their use.

<br/><br/><b><span>$CFG-&gt;privateSite = false;</span></b>
<br/>( Does this site require login for all access, including interface and API; true if it does, else false if it does not.
This basically would lock down the site for access by non-logged in users.
You would need to really edit the login page to make it more of a landing page if you choose to set this to 'true', as the login page would be what people initally always see. ).

<br/><br/><b><span style="color:red">$CFG-&gt;START_DATE = 	mktime(0, 0, 0, 01, 01, 2016);</span></b>
<br/>( This is the date you setup your Hub. It is currently used by the site Analytics. E.g. mktime(0, 0, 0, 7, 01, 2016) = 1st July 2016 )
just edit the last three number month, date, year).

<br/><br/><b><span style="color:red">$CFG-&gt;SITE_TITLE = &quot;The title of your Evidence Hub&quot;;</span></b>
<br/>( This is used in the header title as well as being displayed to the user in various places. )

<br/><br/><b><span style="color:red">$CFG-&gt;ADMIN_USERID = &quot;the database user id number of your System administrator&quot;;</span></b>
<br/>( This person is the owner of the Theme nodes in the system and you have to log in as them to manage themes.)

<br/><br/><b><span style="color:red">$CFG-&gt;defaultUserID = &quot;the database user id number of your Default user&quot;;</span></b>
<br/>( This person acts as a template for new users. Thier node and link types are copied into new user accounts.)

<br/><br/>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Node Types</h3>
<b><span style="color:red">$CFG-&gt;BASE_TYPES = array(&quot;Challenge&quot;,&quot;Issue&quot;,&quot;Solution&quot;,&quot;Claim&quot;,&quot;Organization&quot;,&quot;Project&quot;,&quot;Theme&quot;);</span></b>
<br/>( These are the basic node types for the Evidence Hub Datamodel. There is some flexibility. You can if you chose remove Challenge. You can also choose to remove either Solution or Claim, but not both. If you remove both the site will not work. If you remove any other node types the site will not work properly.)

<br/><br/><b><span style="color:red">$CFG-&gt;EVIDENCE_TYPES = array(&quot;Anecdote&quot;,&quot;Case Study&quot;,&quot;Policy&quot;,&quot;Research Finding&quot;);</span></b>
<br/>( These are the default Evidence Types. If you have changed them when you installed your default data please edit these to be exactly the same as your Evidence Type names in the database. )

<br/><br/><b><span style="color:red">$CFG-&gt;RESOURCE_TYPES = array(&quot;Publication&quot;,&quot;Web Resource&quot;);</span></b>
<br/>( These are the default Resource Types. If you have changed them when you installed your default data please edit these to be exactly the same as your Resource Type names in the database. )

<br/><br/><b><span style="color:red">$CFG-&gt;EVIDENCE_TYPES_DEFAULT = &quot;Anecdote&quot;;</span></b>
<br/>( This is the default Evidence Type selected in the interface. This must match one of the Evidence Types listed in the EVIDENCE_TYPES property above. )

<br/><br/><b><span style="color:red">$CFG-&gt;RESOURCE_TYPES_DEFAULT = &quot;Web Resource&quot;;</span></b>
<br/>( This is the default Resource Type selected in the interface. This must match one of the Resource Types listed in the RESOURCE_TYPES property above. )

<br/><br/>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">URL Setup</h3>
<b><span style="color:red">$CFG-&gt;homeAddress = &quot;http://web/path/to/website/&quot;;</span></b>
<br/>( home address is the base url for the website and must end with trailing '/' )

<br/><br/>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Database Setup</h3>
<b><span style="color:red">$CFG-&gt;databaseaddress = &quot;localhost&quot;;</span></b>
<br/> (The database address, e.g. localhost or a url etc.)

<br/><br/><b><span style="color:red">$CFG-&gt;databaseuser</span></b>
<br/> (The database username that Cohere uses to login to the database)

<br/><br/><b><span style="color:red">$CFG-&gt;databasepass</span></b>
<br/> (The database password to go with the above username)

<br/><br/><b><span style="color:red">$CFG-&gt;databasename</span></b>
<br/> (The database name for the Evidence Hub is to use)

<br/><br/>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Language</h3>
<b>$CFG-&gt;language = 'en';</b>
<br/> (This string indicates what language the interface text should use. The name must correspnd to a folder in the 'language' folder where the translated texts should exist.)
<br/> For more information about the language system please see <a href="#lang">Language</a> below.

<br/><br/><b>$CFG-&gt;defaultcountry = "United Kingdom";</b>
<br/> (Country name as it appears in the language/&lt;your language as above&gt;/countries.php list to used as the default selection in Countries menus. If you change the language used you must also change this text.)

<br/><br/>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Interface Theme</h3>
<b>$CFG-&gt;uitheme = "default";</b>
<br/> (This string indicates what theme the interface should use.
The name must correspond to a folder in the 'theme' folder where the theme specific style sheets, images and pages should exist.
The default theme is 'deault'. Make sure this is never deleted as it is the fall back position.)

<br/><br/>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Bits and Pieces</h3>

<b>$CFG-&gt;workdir = &quot;/tmp/&quot;</b>
<br/> (The path to a temp directory that Evidence Hub can use)

<br/><br/><b>$CFG-&gt;build_from_permissions = $CFG->BUILD_FROM_COMMENTS_ALL;</b>
<br/> (This paramter dictates who can build a new item from a Chat or Open Comment:
<br/>There are three option you can change this parameter to.
<br/>$CFG->BUILD_FROM_COMMENTS_USER, where only the Owner of a chat or open comment can build another item from it
<br/>$CFG->BUILD_FROM_COMMENTS_ADMIN, where only the Owner of a chat or open comment, or an Admin person can build naother item from it
<br/>$CFG->BUILD_FROM_COMMENTS_ALL, where anyone logged in can build naother item from it
<br/>The default is $CFG->BUILD_FROM_COMMENTS_ALL)

<br/><br/><b>$CFG-&gt;areStatsPublic = true;</b>
<br/> (Should the site stats be visible to everyone - set to true, or just the Admins - set to false.
Default is true;)

<br/><br/><b>$CFG-&gt;hasRecommendations = true;</b>
<br/> (If true, it draw recommedation widgets on the explore pages.
If false, it does NOT draw recommendation widgets on the explore pages.)0

<br/><br/><b>$CFG-&gt;autoFollowingOn = false;</b>
<br/> (If true, all users will automatically follow thier own items. If false, they will not).

<br/><br/><b>$CFG-&gt;hasSocialTab = false;</b>
<br/> (If true, it draw Organizations/Projects/Users as one tab called 'Social' with a rollover menu for the three options.
 If false, it draws them as separate tabs.)

<br/><br/><b>$CFG-&gt;hasRss = true;</b>
<br/> (If true, you get RSS feed buttons at various places in the site. If false, you get no RSS feed buttons.)


<br/><br/><b>$CFG-&gt;hasCompendiumImport = false (or true);</b>
<br/> (Does this site want to use a Compendium import. Note: the default import may need to be modified to match any site specific changes like new Evidence Types. )

<br/><br/><b>$CFG-&gt;hasUserHomePageOption = false (or true);</b>
<br/> (Does this site want to have the homepage field on the user registration/profile forms. )

<br/><br/><b>$CFG-&gt;hasConditionsOfUserAgreement = false (or true);</b>
<br/> (Does this site want to display a Conditions of use Agreement statement when user's sign up? The default text for this can be overriden in the language custom folder.)

<br/><br/><b>$CFG-&gt;homeTagCount = 20;</b>
<br/> (How many tags to show in the home page tag cloud. We set 20 as the default.)

<br><br>
<p>The following two values work together.
<br>For example if the debateCountOpen is 1 and the debateChildCount Open is 10,
then on the knowledge builder explore page, a knowledge tree will be opened automatically
when the page is loaded only if there is only 1 tree with less than 10 items on it, otherwise trees will be closed.
</p>
<b>$CFG-&gt;debateCountOpen = 1;</b>
<br/> (this value determines how many knowledge trees there should be to decide if they should be opened automoatcially.)

<br/><br/><b>$CFG-&gt;debateChildCountOpen = 10;</b>
<br/> (This value determines how many items they should be less than in a knowledge tree to open it automatically.)

<br><br>
<p>The following two values work together.
<br>For example if the chatCountOpen is 1 and the chatChildCount Open is 15,
then on the Chats explore page, a chat tree will be opened automatically
when the page is loaded only if there is only 1 tree with less than 10 items on it, otherwise trees will be closed.
</p>
<b>$CFG-&gt;chatCountOpen = 1;</b>
<br/> (this value determines how many chat trees there should be to decide if they should be opened automoatcially.)

<br/><br/><b>$CFG-&gt;chatChildCountOpen = 15;</b>
<br/> (This value determines how many items they should be less than in a chat tree to open it automatically.)

<br/><br/><b>$CFG-&gt;welcomeMovie = "http://www.youtube.com/watch?feature=player_embedded&v=0fB2Kd2La8g";</b>
<br/> (We supply a default movie about the Evidence Hub. If you want the Homepage to show a different movie, change this link.)

<br><br>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline"><a name="registration">Site Registration</a></h3>
<b><span style="color:red">$CFG-&gt;signupstatus = $CFG->SIGNUP_CLOSED;</span></b>
<br/> (Whether or not the site is open for registration.
There are three option you can change this parameter to:
<br />$CFG->SIGNUP_OPEN, If you use this state for signup, then users can register themselves for using the Hub
<br />$CFG->SIGNUP_REQUEST, If you use this state for signup below, then users can request an account
for using the Hub which is then validated by a Hub Admin user.
<br />$CFG->SIGNUP_CLOSED, If you use this state for signup below, then users cannot register,
they must be sent login details. So by invitation only.
<br>The default is $CFG->SIGNUP_CLOSED;)

<br/><br/><b><span style="color:red">$CFG-&gt;signuprequestemail = ''; //defaults to $CFG->EMAIL_REPLY_TO</span></b>
<br/> (The email address of the Hub user managing the registration requests if SIGNUP_REQUEST is used. They must be ad admin user (IsAdmin set to 'Y' in Users table the database))

<br/><br/>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Background colours used in the Network Applet</h3>
 These are the background colours used in the Network drawings.
 <br>They have the same names as styles in the styles.css file,
 but we found we needed slightly darker shades than their stylesheet equivalents.
<br/><br/>
<b>$CFG-&gt;challengebackpale = '#6FCBF5';</b>
<br/><b>$CFG-&gt;issuebackpale = '#C6ECFE';</b>
<br/><b>$CFG-&gt;solutionbackpale = '#FCD7BE';</b>
<br/><b>$CFG-&gt;claimbackpale = '#F0B288';</b>
<br/><b>$CFG-&gt;orgbackpale = '#A4AED4';</b>
<br/><b>$CFG-&gt;projectbackpale = '#DEE2F0';</b>
<br/><b>$CFG-&gt;peoplebackpale = '#EAECF5';</b>
<br/><b>$CFG-&gt;evidencebackpale ='#DFC7EB';</b>
<br/><b>$CFG-&gt;resourcebackpale = '#E1F1C9';</b>
<br/><b>$CFG-&gt;themebackpale = '#FAB8DA';</b>
<br/><b>$CFG-&gt;plainbackpale = '#D0D0D0';</b>

<br>
<br>These are the background colours used in Analytics graphs
<br>They need to be darker versions of the above colours, as the pale versions are too pale on a graph.
<br><br>
<b>$CFG-&gt;challengeback = '#067EB0';</b>
<br/><b>$CFG-&gt;issueback = '#4CC1F2';</b>
<br/><b>$CFG-&gt;solutionback = '#F2B48A';</b>
<br/><b>$CFG-&gt;claimback = '#CD6119';</b>
<br/><b>$CFG-&gt;orgback = '#5B70BD';</b>
<br/><b>$CFG-&gt;projectback = '#94A5E4';</b>
<br/><b>$CFG-&gt;peopleback = '#0000C0';</b>
<br/><b>$CFG-&gt;evidenceback ='#BC84DC';</b>
<br/><b>$CFG-&gt;resourceback = '#BCE482';</b>
<br/><b>$CFG-&gt;themeback = '#F777B9';</b>
<br/><b>$CFG-&gt;plainback = '#D0D0D0';</b>

<br/><br/>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Browser Bookmarklet Tool</h3>
<b><span style="color:red">$CFG-&gt;buildername = "-Your Site- EH";</span></b>
<br/> (The name of the Tool for this site. A shortening of the main site name or something like that.)
<br/><br/><b><span style="color:red">$CFG-&gt;buildernamekey = "&lt;your tool key - e.g. 'HubDev'&gt;";</span></b>
<br/> (This needs to be a unique <b>single word</b> key that is used before all function names in the tool to avoid clashing with any other scripts loaded in wepages.)

<br/><br/>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">For initializing the org geo map</h3>
These default settings show the world, zoomed out.
<br/><br/><b>$CFG-&gt;orggeomapdefaultlat = "17.383";</b>
<br/> (The latitude to center the Organization/Project map on)
<br/><br/><b>$CFG-&gt;orggeomapdefaultlong = "11.183";</b>
<br/> (The longtitude to center the Organization/Project map on)
<br/><br/><b>$CFG-&gt;orggeomapdefaultzoom = "2";</b>
<br/> (The zoom level to start Organization/Project map on. 12 is quite zoomed out. )

<br/><br/>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">For initializing the user geo map</h3>
These default settings show the world, zoomed out.
<br/><br/><b>$CFG-&gt;usergeomapdefaultlat = "17.383";</b>
<br/> (The latitude to center the User map on)
<br/><br/><b>$CFG-&gt;usergeomapdefaultlong = "11.183";</b>
<br/> (The longtitude to center the User map on)
<br/><br/><b>$CFG-&gt;usergeomapdefaultzoom = "2";</b>
<br/> (The zoom level to start the User map on. 12 is quite zoomed out.)

<br/><br/>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">For initializing the user entries geo map</h3>
These default settings show the world, zoomed out.
<br/><br/><b>$CFG-&gt;usernodegeomapdefaultlat = "17.383";</b>
<br/> (The latitude to center the User map on)
<br/><br/><b>$CFG-&gt;usernodegeomapdefaultlong = "11.183";</b>
<br/> (The longtitude to center the User map on)
<br/><br/><b>$CFG-&gt;usernodegeomapdefaultzoom = "2";</b>
<br/> (The zoom level to start the User map on. 12 is quite zoomed out.)

<br/><br/>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Emailing</h3>
<b><span style="color:red">$CFG-&gt;send_mail = true;</span></b>
<br/> (whether or not to send emails. For example if your server can't do emailing - true/false, default 'true')

<br/><br/><b><span style="color:red">$CFG-&gt;EMAIL_FROM_ADDRESS = "";</span></b>
<br/> (The email address to show system emails as being sent from)

<br/><br/><b><span style="color:red">$CFG-&gt;EMAIL_FROM_NAME = $CFG-&gt;SITE_TITLE." Admin";</span></b>
<br/> (The email from name to show system emails as being sent by. Defaults to your site title plus 'Admin')

<br/><br/><b><span style="color:red">$CFG-&gt;ERROR_ALERT_RECIPIENT = "";</span></b>
<br/> (The email address to sent system error alerts to. Usually your developer.)

<br/><br/><b><span style="color:red">$CFG-&gt;EMAIL_REPLY_TO = "kmi-edfutures@open.ac.uk";</span></b>
<br/> (The email address to show system emails should be replied to)

<br/><br/>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Newsletters and Email Digests</h3>

<b>$CFG-&gt;RECENT_EMAIL_SENDING_ON = true;</b>
<br/>
Should recent activity email sending should be included in this hub? (true/false);
<br/><br/>
<b>$CFG-&gt;RECENT_EMAIL_SENDING_SELECTED = 'Y';</b>
<br/>
If recent activity email sending should be on or off by default for new user ('Y' == on / 'N' = off);
<br/><br/>

<b>$CFG-&gt;ACTIVITY_EMAIL_SENDING_ON = 'Y';</b>
<br/> (If email sending should be on or off by default for new user - 'Y' == on / 'N' = off)

<br><br/><b>$CFG-&gt;ACTIVITY_EMAIL_SENDING_INTERVAL = 'daily';</b>
<br/> (When to send email alerts by default for new users - 'daily'/'weekly'/'monthly')

<br/><br/>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Proxy Settings</h3>
if the server needs a proxy to access internet, set it here.
<br/><br/><b><span style="color:red">$CFG-&gt;PROXY_HOST = "";</span></b>
<br/><br/><b><span style="color:red">$CFG-&gt;PROXY_PORT = "";</span></b>

<br><br>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Captcha</h3>
<b><span style="color:red">$CFG-&gt;CAPTCHA_ON = false;</span></b>
<br/>(If you want to use Capthca set this to 'true. ('true' or 'false'))
<br/>If this is set to 'true' you must also complete CAPTCHA_PUBLIC and CAPTCHA_PRIVATE below.
<br/>We strongly recommend that you use Captch on your registration forms to stop automated registrations.

<br/><br/>
<b><span style="color:red">$CFG-&gt;CAPTCHA_PUBLIC = &quot;&lt;add recaptcha public key here&gt;&quot;;</span></b>
<br/><b><span style="color:red">$CFG-&gt;CAPTCHA_PRIVATE = &quot;&lt;add recaptcha private key here&gt;&quot;;</span></b>
<br/>(If you want to use Captcha on your site, you can get the public and private keys from the Captcha website (<a href="http://www.captcha.net/">http://www.captcha.net/</a>))

<br><br>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Google</h3>

<b><span style="color:red">$CFG-&gt;GOOGLE_ANALYTICS_ON = false;</span></b>
<br/> (If you want to use Google Analytics set this to 'true. ('true' or 'false'))
<br/>If this is set to 'true' you must also complete the GOOGLE_ANALYTICS_KEY below.

<br/><br/><b><span style="color:red">$CFG-&gt;GOOGLE_ANALYTICS_KEY = &quot;&quot;;</span></b>
<br/> (Google analytics key: You will need to go and get a Google analytics key for your site, if you want the analytics to work)

<!-- br><br><b><span style="color:red">$CFG-&gt;GOOGLE_ANALYTICS_DOMAIN = &quot;&quot;;</span></b>
<br/> (Google analytics domain: This is the domain you specified against the key above on Google Analytics.) -->

<br><br><b><span style="color:red">$CFG-&gt;GOOGLE_MAPS_KEY = &quot;&lt;add google map key here&gt;&quot;;</span></b>
<br/> (Google maps: You need to go to Google to get an API key for the Maps screens to work -
<a href="https://code.google.com/apis/console/" target="_blank">
https://code.google.com/apis/console/</a>. Make sure you select the service 'Google Maps API v3')

<br><br>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">MailChimp Newsletter System</h3>
<b>$CFG-&gt;MAILCHIMP_ON = false;</b>
<br/> (Is MailChimp Newsletter service being used on this hub? - true/false)

<br/><br/><b>$CFG-&gt;MAILCHIMP_KEY = "";</b>
<br/> (The main API Key for the Evidence Hub to use the MailChimp service you have set up)

<br/><br/><b>$CFG-&gt;MAILCHIMP_LISTID = "";</b>
<br/> (The MailChimp List id for the list you have setup for the Evidence Hub to subscribe users to)

<br/><br/><b>$CFG-&gt;MAILCHIMP_NEWSLETTER_INFO_URL = "";</b>
<br/> (If you want to point to an additional page with more information about your newsletter, put the url to use here. If this is empty, the link will not be displayed in the apporpraite pages.)


<br><br>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Safe URLs</h3>
<p>This field is a list of urls that are allowed in IFrame and Object embeds in formatted descriptions.
<br>To add a new one repeat the pattern but increase the number, e.g.
$CFG-&gt;safeurls[11] = 'xyz.zom/'; etc..</p>

<br><b>$CFG-&gt;safeurls[0] = 'www.youtube.com/embed/';</b>
<br><b>$CFG-&gt;safeurls[1] = 'player.vimeo.com/video/';</b>
<br><b>$CFG-&gt;safeurls[2] = 'www.ustream.tv/';</b>
<br><b>$CFG-&gt;safeurls[3] = 'www.schooltube.com/';</b>
<br><b>$CFG-&gt;safeurls[4] = 'archive.org/';</b>
<br><b>$CFG-&gt;safeurls[5] = 'www.blogtv.com/';</b>
<br><b>$CFG-&gt;safeurls[6] = 'uk.video.yahoo.com/';</b>
<br><b>$CFG-&gt;safeurls[7] = 'www.teachertube.com/';</b>
<br><b>$CFG-&gt;safeurls[8] = 'sciencestage.com/';</b>
<br><b>$CFG-&gt;safeurls[9] = 'www.flickr.com/';</b>
<br><b>$CFG-&gt;safeurls[10] = 'cohere.open.ac.uk/';</b>

<br/><br/>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline"> Link Types </h3>
<p>WARNING: Only edit these names if you have also edited them in the database linktype table. The two must match or the Evidence Hub code will not work properly!</p>
<b>$CFG->LINK_SOLUTION_ISSUE = 'addresses';</b>
<br/><b>$CFG-&gt;LINK_CLAIM_ISSUE = 'responds to';</b>
<br/><b>$CFG-&gt;LINK_ISSUE_CHALLENGE = 'is related to';</b>
<br/><b>$CFG-&gt;LINK_EVIDENCE_SOLCLAIM_PRO = 'supports';</b>
<br/><b>$CFG-&gt;LINK_EVIDENCE_SOLCLAIM_CON = 'challenges';</b>
<br/><b>$CFG-&gt;LINK_ORGP_ISSUE = 'addresses';</b>
<br/><b>$CFG-&gt;LINK_ORGP_CHALLENGE = 'addresses';</b>
<br/><b>$CFG-&gt;LINK_ORGP_CLAIM = 'claims';</b>
<br/><b>$CFG-&gt;LINK_ORGP_SOLUTION = 'specifies';</b>
<br/><b>$CFG-&gt;LINK_ORGP_EVIDENCE = 'specifies';</b>
<br/><b>$CFG-&gt;LINK_ORGP_ORGP = 'partnered with';</b>
<br/><b>$CFG-&gt;LINK_ORG_PROJECT = 'manages';</b>
<br/><b>$CFG-&gt;LINK_COMMENT_NODE = 'is related to';</b>
<br/><b>$CFG-&gt;LINK_NODE_THEME = 'has main theme';</b>
<br/><b>$CFG-&gt;LINK_RESOURCE_NODE = 'is related to';</b>
<br/><b>$CFG-&gt;LINK_NODE_SEE_ALSO = 'see also';</b>
<br/><b>$CFG-&gt;LINK_COMMENT_BUILT_FROM = 'built from';</b>
<br/>( Leave alone unless you know what you are doing! )

<br/><br/>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Default nodetype (role) group id - as found in the database</h3>
You will be given these ids when running adddefaultdata.php as part of your install process.
If you are upgrading check the values for these in the NodeTypeGroup table in your database.

<br><br><b>$CFG-&gt;defaultRoleGroupID = "";</b>
<br/><br/><b>$CFG-&gt;systemRoleGroupID = "";</b>
<br/><br/><b>$CFG-&gt;evidenceRoleGroupID = "";</b>
<br/><br/><b>$CFG-&gt;resourceRoleGroupID = "";</b>

<br><br>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Spam Alert</h3>
<b>$CFG-&gt;SPAM_ALERT_ON = false;</b>
<br/> (If you want to enable spam reporting on this Hub, set the above to 'true'.
New interface elements will then display to allow Spam Reporting.
If this is set to 'true' you must also complete the SPAM_ALERT_RECIPIENT field below)

<br/><br/><b>$CFG-&gt;SPAM_ALERT_RECIPIENT = "email address of person to receive spam reports";</b>
<br/> (If you set spam reporting to true you must then enter the email address that the spam
reports should be sent to here.)

<br><br>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Social Sign On</h3>
<br/><b>$CFG-&gt;SOCIAL_SIGNON_ON = false;</b>
<br/> (If you want to allow users to Sign on with external services like Facebook or Twitter change this to 'true'.
Before you turn this facility on you must follow the instructions below and obtain ids and secrets for each service you wish to include.)

<h3 style="font-size:11pt;text-decoration:underline">Yahoo</h3>
<b>$CFG-&gt;SOCIAL_SIGNON_YAHOO_ON = false;</b>
<br/><b>$CFG-&gt;SOCIAL_SIGNON_YAHOO_ID = "";</b>
<br/><b>$CFG-&gt;SOCIAL_SIGNON_YAHOO_SECRET = "";</b>
<ol>
<li>Go to <a href="https://developer.apps.yahoo.com/dashboard/createKey.html">https://developer.apps.yahoo.com/dashboard/createKey.html</a> and create a project.</li>
<li>Fill out any required fields such as the Application name and description.</li>
<li>Set the 'Applcation Type' to be 'Web-based'.</li>
<li>Set the 'Home Page URL' to be you hub url<br>
     It should match with the current domain given in $CFG->homeAddress minus the final slash.</li>
<li>Int 'Access Scope' select 'This app requires access to private user data'.<br>
 	A section will expand out. Enter the Application Domain as in 4. above.</li>
<li>In 'Select APIs for private user data access:', select 'Social Directory' and leave it as 'Read Public'.</li>
<li>Once you have created the project, copy and paste the 'Consumer Key' as the $CFG-SOCIAL_SIGNON_YAHOO_ID<br>
     and the 'Consumer Secret' as the $CFG->SOCIAL_SIGNON_YAHOO_SECRET<br>
     and set $CFG->SOCIAL_SIGNON_YAHOO_ON = true.</li>
</ol>

<h3 style="font-size:11pt;text-decoration:underline">Google</h3>
<b>$CFG-&gt;SOCIAL_SIGNON_GOOGLE_ON = false;</b>
<br/><b>$CFG-&gt;SOCIAL_SIGNON_GOOGLE_ID = "";</b>
<br/><b>$CFG-&gt;SOCIAL_SIGNON_GOOGLE_SECRET = "";</b>
<ol>
<li>Go to <a href="https://code.google.com/apis/console/">https://code.google.com/apis/console/</a> and create a new project, if you don't have one.</li>
<li>Fill out any required fields such as the name and description.</li>
<li>Click on "Create client ID..."/"Create another client ID...". This open a popup</li>
<li>Make sure 'Application Type' has 'Web Application' selected.</li>
<li>In the section 'Your site or hostname' fill in your hub url
<br>It should match with the current domain given in $CFG->homeAddress minus the final slash.</li>
<li>Then select '(more options)'.</li>
<li>In the section 'Authorized Redirect URIs' you need to add a callback URL for your application:
<br>The URL should start with the URL you have entered into $CFG->homeAddress
<br>followed by 'core/lib/hybridauth-2.1.2/hybridauth/?hauth.done=Google'
<br>e.g. https://test.evidence-hub.net/core/lib/hybridauth-2.1.2/hybridauth/?hauth.done=Google
<br>Then press 'Create Client ID'</li>
<li>Once you have done this, copy and paste the 'Client ID' as the $CFG-SOCIAL_SIGNON_GOOGLE_ID
<br>and the 'Client Secret' as the $CFG->SOCIAL_SIGNON_GOOGLE_SECRET
<br>and set $CFG->SOCIAL_SIGNON_GOOGLE_ON = true.</li>
</ol>

<h3 style="font-size:11pt;text-decoration:underline">Facebook</h3>
<b>$CFG-&gt;SOCIAL_SIGNON_FACEBOOK_ON = false;</b>
<br/><b>$CFG-&gt;SOCIAL_SIGNON_FACEBOOK_ID = "";</b>
<br/><b>$CFG-&gt;SOCIAL_SIGNON_FACEBOOK_SECRET = "";</b>
<ol>
<li>Go to <a href="https://www.facebook.com/developers/">https://www.facebook.com/developers/</a> and create a new application.</li>
<li>Fill out any required fields such as the application name and description.</li>
<li>Make sure you have 'Sandbox Mode' set to Disabled once your site is live, or only
your developer Facebook user will be able to use the Social Sign On.</li>
<li>Select 'Website with Facebook Login' and add your hub url into the 'Site URL' field.
<br>It should match with the current domain given in $CFG->homeAddress minus the final slash.</li>
<li>Once you have registered, copy and paste the 'App ID' as the $CFG->SOCIAL_SIGNON_FACEBOOK_ID
<br>and the 'App Secret' as the $CFG->SOCIAL_SIGNON_FACEBOOK_SECRET
<br>and set $CFG->SOCIAL_SIGNON_FACEBOOK_ON = true.</li>
</ol>

<h3 style="font-size:11pt;text-decoration:underline">Twitter</h3>
<b>$CFG-&gt;SOCIAL_SIGNON_TWITTER_ON = false;</b>
<br/><b>$CFG-&gt;SOCIAL_SIGNON_TWITTER_ID = "";</b>
<br/><b>$CFG-&gt;SOCIAL_SIGNON_TWITTER_SECRET = "";</b>
<ol>
<li>Go to <a href="https://dev.twitter.com/apps">https://dev.twitter.com/apps</a> and create a new application.</li>
<li>Fill out any required fields such as the application name and description.</li>
<li>Put your website domain in the Application Website and Application Callback URL fields.
<br>It should match with the current domain given in $CFG->homeAddress minus the final slash.</li>
<li>Set the Default Access Type to 'Read, Write, & Direct Messages'.</li>
<li>Tick the checkbox beside 'Allow this application to be used to Sign in with Twitter'</li>
<li>Once you have registered, copy and paste the 'Consumer key' as the $CFG->SOCIAL_SIGNON_TWITTER_ID
<br>and the 'Consumer secret' as the $CFG->SOCIAL_SIGNON_TWITTER_SECRET
<br>and set $CFG->SOCIAL_SIGNON_YAHOO_ON = true.</li>
</ol>

<h3 style="font-size:11pt;text-decoration:underline">LinkedIn</h3>
<b>$CFG-&gt;SOCIAL_SIGNON_LINKEDIN_ON = false;</b>
<br/><b>$CFG-&gt;SOCIAL_SIGNON_LINKEDIN_ID = "";</b>
<br/><b>$CFG-&gt;SOCIAL_SIGNON_LINKEDIN_SECRET = "";</b>
<ol>
<li>Go to <a href="https://www.linkedin.com/secure/developer">https://www.linkedin.com/secure/developer</a> and create a new application.</li>
<li>Fill out any required fields such as the application name and description.</li>
<li>Put your website domain in the Website URL field.
<br>It should match with the current domain given in $CFG->homeAddress minus the final slash.</li>
<li>Set 'Live Status' to Live (if you are live).</li>
<li>In the OAuth User Agreement section, select  'r_fullprofile' and 'r_emailaddress'</li>
<li>Once you have registered, copy and paste the 'API Key' as the $CFG->SOCIAL_SIGNON_LINKEDIN_ID
<br>and the 'Secret Key' as the $CFG->SOCIAL_SIGNON_LINKEDIN_SECRET
<br>and set $CFG->SOCIAL_SIGNON_LINKEDIN_ON = true.</li>
</ol>

<br><br>
<h2><a name="lang">Language</a></h2>

<p>The current language system allows you to do two important things:
<ol>
<li>Add another language: You can change the language you are using by translating all the language files into another language.</li>
<li>Site specific text: You can change the text in your version of the hub to be site specific.</li>
</ol>
</p>
<h3 style="font-style:italic;font-size:12pt;text-decoration:underline">Adding another language</h3>
<p>If you want to add a new language set to the Evidence Hub you need to:
<ol>
<li>Create a new folder inside the 'language' folder whose name the two letter abbreviation for the language you are providing a translation for.
These codes are specified by the <a href="http://www.ics.uci.edu/pub/ietf/http/related/iso639.txt">ISO 639</a> standard, e.g.</p>
<table style="width: 216px; height: 205px;" bgcolor="#cccccc" border="1" bordercolor="#000000" cellpadding="7" cellspacing="2">
<tbody>
<tr bgcolor="#3366ff">
<td valign="top"><em>Language Code</em></td>
<td valign="top"><em>Language</em></td>
</tr>
<tr>
<td><code>en</code></td>
<td>English</td>
</tr>
<tr>
<td><code>fr</code></td>
<td>French</td>
</tr>
<tr>
<td><code>it</code></td>
<td>Italian</td>
</tr>
<tr>
<td><code>de</code></td>
<td>German</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
</li>
<li>Copy the language files from inside the default 'en' language folder into your new folder.</li>
<li>Inside any given language file, each item is set up as a key/value pair, in the form key='value'.
You must translate/change only the values on the right hand side, NEVER change the key name on the left.</li>
<li>Change the language variables in the config file: <b>$CFG-&gt;language = 'en';</b> to reflect your new language of choice.
The <b>$CFG-&gt;language</b> setting must match the folder name for your new language.

</li>
</ol>
<p>NB: Some HTML is mixed up in the language files especially in the language heavy areas like the About and the Help pages.
<p>The languagecore.php file contains the node and link names used by other language files. It will always be loaded first so that other language files can reference it.
</p>

<h3 style="font-style:italic;font-size:12pt;text-decoration:underline"><a name="sitetext">Site specific text</a></h3>

To provide site specific text for any of the interface languages you follow this basic pattern:
<ol>
<li>Locate the term you wish to replace in the language files.</li>
<li>Create a file with the same name as the file containing the term you wish to change but with 'Custom' at the end and place it in the 'custom' folder of the language file you are using.
So, for example, if you wish to replace the About page in the English language files, create a file in the 'language/en/custom' folder called 'aboutCustom.php'.</li>
<li>Inside this new file you must use the same key label on the left as in the original file, and then just replace the part on the right after the '=' sign.
All domain specific files in the 'sites' language sub-folders are loaded after the main language files, and provided you have used the same keys, the text will be replaced with your version when the language files are loaded.</li>
</ol>
NOTE: If what you want to change any of the core terms, the names of the categories or links, for example, if you wish to call 'Themes' say 'Topics' instead on your Hub, you can just create a custom languagecore.php file
and change the text in that. These terms will ripple through the rest of the interface text as all the rest of the text should reference those terms through their keys.
This makes it easy to change the basic terminology for a given Hub community without editing lots of interface text.
<br><br>
<p>
<b>IMPORTANT:</b> There are two none-standard items in the language folder that are not handled in the same way as the other language files:
<ol>
<li>The <b>countries.php</b> file: This holds the country names used in the location drop-down menus displayed to users.
It is also the place where you set your default country when displaying the list ($LNG-&gt;DEFAULT_COUNTRY=).
When translating these, please, as with the other files change only the part on the right after the '='.
NOTE: this file may need updating if new countries come into existence.
The location of where to check for updates is in the file header.</li>
<li>The <b>mailtemplates</b> folder: The files inside this folder are used when constructing the emails send out to users.
When translating them please change only the words and leave all HTML alone, unless you know what you are doing.
Be especially careful about leaving all <b>%s</b> items alone.
These are replace with specific text when an email is created.
So the number of <b>%s</b> and their order in the file is very important. Please don't remove any or that email will no longer be written correctly.</li>
</ol>
</p>

<br>
<h2><a name="lang">Tailoring your Evidence Hub</a></h2>
At present, if you want to change the look and feel or text of your Debate Hub site,these are the main places you should look at making changes:
<ul>
<li><b>Themes:</b> The style sheets for the ui can be found in 'themes/default/styles/'. Please don't edit those ones.
If you want to create your own theme you should copy the 'default' folder, rename it and edit the styles there.
In the images folder you will see some image files like the header logo etc, that you will also probably want to replace.
Just make sure the files names and sizes stay the same. In addition you can override themes for a given domain or the default domain in the 'sites' folder.
For more information see the README.txt file in the 'themes' folder.
</li><li><b>Language:</b> All text displayed in the Evidence Hub has been placed in various files in the 'language' folder system.
So you can override all the default texts your specific site needs.
You may especially like to add to or redo the <b>about</b> page (language/en/about.php).
REMEBER: never edit the original language files. Always use the Custom file override system.
You can also provide sets of language files for other languages.
(See the <a href="#language">Language</a> section of these notes for more details and there is also a README.txt file in the 'language' folder).</li>
<li><b>Homepage:</b> The file that draws the homepage (ui/homepage.php) is in the 'ui' folder. While all the text can be changed through the language files, you may want to completely redo this page for your specific Evidence Hub.</li>
<li><b>Images:</b> The theme specific images can be found in the themes as mentioned above.
All other icons and images can be found in the 'images' folder. If you want to replace an image make sure the size and file name stay the same
and you will not need to edit any code. We suggest you backup the images folder before you make changes.</li>
<li><b>Headers and Footers:</b> The header and footer files can be found in the 'ui' folder.
The main 'header.php' and 'footer.php' do the base site pages, but you will see there are also specific header and footer pages
for other parts of the site, like popup dialogs and the statspages etc., so you may want to look at all of them when making any changes.
</li>
</ul>
</p>


<br>
<h2><a name="dev">Additional Developer Notes</a></h2>

<h3 style="font-style:italic;font-size:12pt;text-decoration:underline"><a name="sitetext">RESTful API</a></h3>
In theory the Evidence Hub has a RESTful API. The API documentation can be found in the 'docs' folder in the <a href="code-doc/index.html">'code-doc' subfolder</a>.
<p>The API is currently limited to the calls that the Evidence Hub code itself needs to make.
<br>But in the future we would like to make the API more extensive and add a
Developer Key type system to make it more secure.</p>

<h3 style="font-style:italic;font-size:12pt;text-decoration:underline"><a name="sitetext">Database Schema</a></h3>
<p>As well as the install/db.sql file which has the sql for the database schema, there are two additional documents:
<ul>
	<li><a href="EvidenceHubDatabaseSchema.htm">'docs/EvidenceHubDatabaseSchema.htm'</a>, which describes the schema in an easy to read format.</li>
	<li><a href="EvidenceHubSchema.pdf">'docs/EvidenceHubSchema.pdf'</a>, which shows a graphics model of the Evidence Hub database schema and how the tables relate.</li>
</ul>

<h3 style="font-style:italic;font-size:12pt;text-decoration:underline"><a name="sitetext">Datamodel Rules</a></h3>
<p>If you are interested in the connection rules for the Datamodel that the Evidence Hub uses these are listed in <a href="EvidenceHubDatamodelConnectionRules.pdf">'docs/EvidenceHubDatamodelConnectionRules.pdf'</a>

<h3 style="font-style:italic;font-size:12pt;text-decoration:underline"><a name="sitetext">README</a></h3>
<p>In addition to this document many folders in 'src' have a README.txt
file with specifics about areas like 'sites', 'sites/multi', 'sites/default', 'sites/default/custom' etc..</p>

<h3 style="font-style:italic;font-size:12pt;text-decoration:underline"><a name="sitetext">Translating the Interface</a></h3>
<p>The file <a href="Language-File-Translation-Help.docx">docs/Language-File-Translation-Help.docx</a>
has more specific help for people translating the language files.
</body>

</html>
